@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--xp-page-padding: 1.5rem;
		--xp-card-padding: 1.5rem;
		--xp-table-padding-y: 0.75rem;
		--xp-table-padding-x: 0.75rem;
		--xp-form-label-gap: 0.5rem;
	}

	html[data-density="compact"] {
		--xp-page-padding: 1rem;
		--xp-card-padding: 1rem;
		--xp-table-padding-y: 0.5rem;
		--xp-table-padding-x: 0.5rem;
		--xp-form-label-gap: 0.375rem;
	}
}

@layer components {
	.form-control {
		display: flex;
		flex-direction: column;
		align-items: stretch;
		width: 100%;
		gap: var(--xp-form-label-gap);
	}

	.form-control > .label {
		display: flex;
		width: 100%;
	}

	.form-control > :where(.input, .select, .textarea) {
		width: 100%;
	}

	/* daisyUI v5: btn-outline relies on --btn-color; provide a sensible default. */
	:where(.btn-outline):not(
			:where(
					.btn-primary,
					.btn-secondary,
					.btn-accent,
					.btn-neutral,
					.btn-info,
					.btn-success,
					.btn-warning,
					.btn-error
				)
		) {
		--btn-color: var(--color-base-content);
	}

	:where(.xp-btn-outline) {
		--btn-color: var(--color-base-content);
		--btn-fg: var(--color-base-content);
		--btn-border: color-mix(
			in oklab,
			var(--color-base-content) 22%,
			transparent
		);
		--btn-shadow: "";
	}

	:where(.xp-btn-outline):hover {
		--btn-bg: color-mix(in oklab, var(--color-base-content) 6%, transparent);
	}
}

/*
Tailwind v3 preflight ships unlayered resets (padding: 0; border-width: 0).
daisyUI v5 styles are inside CSS cascade layers and lose to unlayered rules.
Re-assert core daisyUI sizing/border props unlayered so buttons/inputs render correctly.
*/

.btn {
	border-width: var(--border);
	border-style: solid;
	border-color: var(--btn-border);
	background-color: var(--btn-bg);
	color: var(--btn-fg);
	/*
	Use physical paddings to override Tailwind preflight's physical `padding: 0`,
	which otherwise wins over logical `padding-inline` on <button>.
	*/
	padding-left: var(--btn-p);
	padding-right: var(--btn-p);
}

.input {
	border-width: var(--border);
	border-style: solid;
	border-color: var(--input-color);
	padding-left: 0.75rem;
	padding-right: 0.75rem;
}

.select {
	border-width: var(--border);
	border-style: solid;
	padding-left: 0.75rem;
	padding-right: 0.75rem;
}

.textarea {
	border-width: var(--border);
	border-style: solid;
	padding: 0.75rem;
}

.checkbox {
	border-width: var(--border);
	border-style: solid;
	border-color: var(
		--input-color,
		color-mix(in oklab, var(--color-base-content) 20%, #0000)
	);
	padding: 0.25rem;
}

/* daisyUI v5: ensure checkbox variant foreground colors win over unlayered resets. */
.checkbox-xs {
	padding: 0.125rem;
}

.checkbox-sm {
	padding: 0.1875rem;
}

.checkbox-md {
	padding: 0.25rem;
}

.checkbox-lg {
	padding: 0.3125rem;
}

.checkbox-xl {
	padding: 0.375rem;
}

.checkbox-primary {
	color: var(--color-primary-content);
}

.checkbox-secondary {
	color: var(--color-secondary-content);
}

.checkbox-accent {
	color: var(--color-accent-content);
}

.checkbox-neutral {
	color: var(--color-neutral-content);
}

.checkbox-info {
	color: var(--color-info-content);
}

.checkbox-success {
	color: var(--color-success-content);
}

.checkbox-warning {
	color: var(--color-warning-content);
}

.checkbox-error {
	color: var(--color-error-content);
}
